<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="res">

    </div>
    <script>
        function SinhVien(msv,hoten,toan,ly,hoa){
            this.msv = msv;
            this.hoten = hoten;
            this.toan = toan;
            this.ly = ly;
            this.dtb = (toan+ly+hoa)/3;
            this.show = function(){
                return "Msv: "+this.msv+", Ho ten:"+this.hoten+", DTB:"+this.dtb;
            }
        }
        function QLSV(){
            this.dssv = [new SinhVien(1,"NA",3,8,8),new SinhVien(2,"Nan",2,8,8),new SinhVien(3,"NA",1,8,8)]
            this.sort1 = function(){
                for (let i = 0; i < this.dssv.length - 1; i++) {
                    for (let j = i+1; j < this.dssv.length; j++) {
                        if(this.dssv[i].dtb > this.dssv[j].dtb ){
                            let temp = this.dssv[i];
                            this.dssv[i] = this.dssv[j];
                            this.dssv[j] = temp;
                        }                    
                    }        
                }
            }
            this.add = function(sv){
                this.dssv.push(sv);
            }
            this.del = function(msv){
                for (let i = 0; i < this.dssv.length; i++) {
                    if(msv == this.dssv[i].msv){
                        this.dssv.splice(i,1);
                    }                    
                }
            }
            this.edit = function(msv,sv){
                for (let i = 0; i < this.dssv.length; i++) {
                    if(msv == this.dssv[i].msv){
                        this.dssv[i] = sv;
                    }                    
                }
            }
            this.show = function(){
                let str = "";
                for (let i = 0; i < this.dssv.length; i++) {
                   str+= this.dssv[i].show()+"<br>";              
                }
                return str;
            }
        }
        let qlsv = new QLSV();
        document.getElementById("res").innerHTML = qlsv.show();
        qlsv.add(new SinhVien(4,"Tiệp",0,8,8));
        qlsv.edit(2,new SinhVien(2,"Tùng",9,8,8));
        qlsv.sort1();
        document.getElementById("res").innerHTML = qlsv.show();
    </script>
</body>
</html>